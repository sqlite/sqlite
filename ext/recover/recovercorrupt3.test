# 2024 May 1
#
# The author disclaims copyright to this source code.  In place of
# a legal notice, here is a blessing:
#
#    May you do good and not evil.
#    May you find forgiveness for yourself and forgive others.
#    May you share freely, never taking more than you give.
#
#***********************************************************************
#

source [file join [file dirname [info script]] recover_common.tcl]
set testprefix recovercorrupt3

#|      0: d5 d5 9b d5 d5 d5 d5 d5 d5 d5 d5 d5 d5 d5 d5 d5   ................
#|     16: 04 00 00 00 1d 00 00 00 00 00 00 00 5f 5f 5f 5f   ............____
#|     32: 5f 5f 5f 5f 5f 5f 5f 5f 71 5f 5f 5f 02 02 02 02   ________q___....
#|     48: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
#|     64: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
#|     80: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
#|     96: 02 02 02 02

#-------------------------------------------------------------------------
reset_db
do_test 1.0 {
  sqlite3 db {}
  db deserialize [decode_hexdb {
| size 3821 pagesize 1024 filename clusterfuzz-testcase-sql_recovery_fuzzer-5803962339885056
| page 1 offset 0
|      0: 53 51 4c 69 74 65 20 66 6f 72 6d 61 74 20 33 00   SQLite format 3.
|     16: 10 00 01 01 00 40 20 20 00 00 00 01 00 00 00 02   .....@  ........
|     32: 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 04   ................
|     48: 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00   ................
|     80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01   ................
|     96: 00 2e 7a 70 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    112: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    128: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    144: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    160: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    176: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    192: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    208: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    224: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    240: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    256: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    272: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    288: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 a0 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 29 29   ..............))
|    464: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    480: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    496: 29 29 29 dd dd dd dd dd dd dd dd dd dd dd dd dd   ))).............
|    512: dd dd dd dd dd dd dd dd dd 6e 69 d2 e9 e9 e9 d2   .........ni.....
|    528: d2 d2 d2 d2 dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    544: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    560: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    576: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    592: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    608: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    624: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    640: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    656: dd dd dd dd dd dd dd da dd dd dd dd dd dd dd dd   ................
|    672: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    688: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    704: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    720: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    736: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    752: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    768: dd dd dd dd dd dd dd dd dd dd dd dd dd 29 29 29   .............)))
|    784: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    800: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    816: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    832: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    848: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    864: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    880: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    896: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    912: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    928: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    944: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    960: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    976: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    992: 29 29 29 29 29 29 29 29 29 29 dd dd dd dd dd dd   ))))))))))......
|   1008: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
| page 2 offset 1024
|      0: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     16: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     32: dd dd 6e 69 d2 e9 e9 e9 d2 d2 d2 d2 d2 dd dd dd   ..ni............
|     48: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     64: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     80: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     96: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    112: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    128: dd dd dd dd dd dd 29 29 29 29 29 29 29 29 29 29   ......))))))))))
|    144: 29 29 29 29 29 29 29 29 29 ad a5 29 29 29 29 00   )))))))))..)))).
|    160: 75 9c 11 00 5b e5 64 28 7c ca 09 69 28 2d 69 00   u...[.d(|..i(-i.
|    176: 85 88 6c 81 48 83 a0 93 c0 c0 82 8b 81 84 85 f9   ..l.H...........
|    192: 88 7a 00 7f 00 96 40 7b 12 4b 84 75 a0 00 99 a0   .z....@..K.u....
|    208: df a0 7e 81 c6 90 8f 7f 84 85 cc 84 82 90 88 60   ..~............`
|    224: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    240: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    256: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    272: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    288: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    464: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    480: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    496: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    512: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    528: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    544: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    560: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    576: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    592: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    608: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    624: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    640: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    656: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    672: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    688: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    704: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    720: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    736: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    752: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    768: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    784: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    800: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    816: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    832: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    848: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    864: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    880: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    896: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    912: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    928: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    944: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    960: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    976: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    992: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|   1008: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
| page 3 offset 2048
|      0: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     16: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     32: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     48: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     64: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     80: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     96: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    112: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    128: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    144: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    160: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    176: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    192: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    208: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    224: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    240: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    256: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    272: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    288: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    464: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    480: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    496: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    512: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    528: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    544: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    560: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    576: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    592: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    608: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    624: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    640: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    656: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    672: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    688: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    704: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    720: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    736: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    752: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    768: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    784: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    800: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    816: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    832: 02 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    848: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    864: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    880: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    896: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    912: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    928: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    944: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    960: 80 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    976: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    992: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|   1008: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
| page 4 offset 3072
|      0: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     16: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     32: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     48: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     64: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     80: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     96: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    112: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    128: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    144: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    160: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    176: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    192: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    208: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    224: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    240: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    256: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    272: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    288: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    464: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    480: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    496: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    512: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    528: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    544: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    560: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    576: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    592: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    608: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    624: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    640: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    656: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    672: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    688: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    704: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    720: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    736: 5f 5f 5f 5f 5f 5f 5f 00 d5 fe fe fe 08 00 00 00   _______.........
| end clusterfuzz-testcase-sql_recovery_fuzzer-5803962339885056
}]} {}

sqlite3_dbdata_init db
do_execsql_test 1.1 {
  PRAGMA writable_schema = 1;
}

do_test 1.2 {
  set R [sqlite3_recover_init db main test.db2]
  $R run
  $R finish
} {}

#-------------------------------------------------------------------------
reset_db
do_test 2.0 {
  sqlite3 db {}
  db deserialize [decode_hexdb {
| size 3821 pagesize 1024 filename clusterfuzz-testcase-sql_recovery_fuzzer-5803962339885056
| page 1 offset 0
|      0: 53 51 4c 69 74 65 20 66 6f 72 6d 61 74 20 33 00   SQLite format 3.
|     16: 04 00 01 01 00 40 20 20 00 00 00 01 00 00 00 02   .....@  ........
|     32: 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 04   ................
|     48: 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00   ................
|     80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01   ................
|     96: 00 2e 7a 70 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    112: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    128: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    144: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    160: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    176: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    192: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    208: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    224: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    240: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    256: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    272: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    288: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 a0 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 29 29   ..............))
|    464: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    480: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    496: 29 29 29 dd dd dd dd dd dd dd dd dd dd dd dd dd   ))).............
|    512: dd dd dd dd dd dd dd dd dd 6e 69 d2 e9 e9 e9 d2   .........ni.....
|    528: d2 d2 d2 d2 dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    544: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    560: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    576: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    592: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    608: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    624: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    640: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    656: dd dd dd dd dd dd dd da dd dd dd dd dd dd dd dd   ................
|    672: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    688: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    704: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    720: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    736: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    752: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    768: dd dd dd dd dd dd dd dd dd dd dd dd dd 29 29 29   .............)))
|    784: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    800: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    816: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    832: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    848: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    864: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    880: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    896: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    912: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    928: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    944: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    960: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    976: 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29 29   ))))))))))))))))
|    992: 29 29 29 29 29 29 29 29 29 29 dd dd dd dd dd dd   ))))))))))......
|   1008: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
| page 2 offset 1024
|      0: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     16: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     32: dd dd 6e 69 d2 e9 e9 e9 d2 d2 d2 d2 d2 dd dd dd   ..ni............
|     48: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     64: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     80: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|     96: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    112: dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd dd   ................
|    128: dd dd dd dd dd dd 29 29 29 29 29 29 29 29 29 29   ......))))))))))
|    144: 29 29 29 29 29 29 29 29 29 ad a5 29 29 29 29 00   )))))))))..)))).
|    160: 75 9c 11 00 5b e5 64 28 7c ca 09 69 28 2d 69 00   u...[.d(|..i(-i.
|    176: 85 88 6c 81 48 83 a0 93 c0 c0 82 8b 81 84 85 f9   ..l.H...........
|    192: 88 7a 00 7f 00 96 40 7b 12 4b 84 75 a0 00 99 a0   .z....@..K.u....
|    208: df a0 7e 81 c6 90 8f 7f 84 85 cc 84 82 90 88 60   ..~............`
|    224: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    240: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    256: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    272: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    288: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    464: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    480: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    496: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    512: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    528: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    544: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    560: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    576: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    592: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    608: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    624: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    640: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    656: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    672: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    688: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    704: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    720: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    736: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    752: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    768: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    784: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    800: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    816: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    832: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    848: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    864: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    880: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    896: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    912: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    928: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    944: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    960: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    976: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    992: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|   1008: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
| page 3 offset 2048
|      0: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     16: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     32: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     48: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     64: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     80: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     96: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    112: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    128: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    144: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    160: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    176: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    192: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    208: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    224: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    240: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    256: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    272: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    288: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    464: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    480: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    496: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    512: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    528: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    544: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    560: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    576: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    592: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    608: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    624: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    640: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    656: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    672: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    688: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    704: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    720: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    736: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    752: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    768: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    784: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    800: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    816: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    832: 02 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    848: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    864: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    880: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    896: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    912: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    928: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    944: 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80   ................
|    960: 80 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    976: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    992: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|   1008: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
| page 4 offset 3072
|      0: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     16: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     32: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     48: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     64: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     80: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|     96: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    112: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    128: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    144: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    160: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    176: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    192: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    208: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    224: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    240: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    256: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    272: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    288: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    304: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    320: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    336: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    352: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    368: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    384: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    400: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    416: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    432: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    448: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    464: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    480: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    496: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    512: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    528: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    544: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    560: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    576: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    592: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    608: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    624: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    640: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    656: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    672: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    688: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    704: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    720: 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02   ................
|    736: 5f 5f 5f 5f 5f 5f 5f 00 d5 fe fe fe 08 00 00 00   _______.........
| end clusterfuzz-testcase-sql_recovery_fuzzer-5803962339885056
}]} {}

sqlite3_dbdata_init db
do_execsql_test 2.1 {
  PRAGMA writable_schema = 1;
}

do_test 2.2 {
  set R [sqlite3_recover_init db main test.db2]
  $R run
  $R finish
} {}

finish_test

